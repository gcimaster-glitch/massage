# ğŸ‰ Git é€£æºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»è¡Œå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

**ã€ŒGit push ã ã‘ã§ã€æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã€‚ã€**

---

## âœ… ç§»è¡Œå®Œäº†ï¼

### æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±

| é …ç›® | å€¤ |
|------|-----|
| **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå** | `massage` |
| **è¡¨ç¤ºå/URL** | `massage-3d0.pages.dev` |
| **Git é€£æº** | âœ… æœ‰åŠ¹ï¼ˆè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ ONï¼‰ |
| **GitHub ãƒªãƒã‚¸ãƒˆãƒª** | `gcimaster-glitch/massage` |
| **æœ¬ç•ªãƒ–ãƒ©ãƒ³ãƒ** | `main` |
| **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹** | ğŸŸ¢ ç¨¼åƒä¸­ |

### URL ä¸€è¦§

| ç”¨é€” | URL |
|------|-----|
| **æœ¬ç•ª URL** | https://massage-3d0.pages.dev |
| **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º** | http://localhost:3000 |
| **æ—§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ** | https://hogusy.pages.dev |

---

## ğŸ”§ å®Ÿæ–½ã—ãŸä½œæ¥­

### 1. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š âœ…
```bash
âœ… RESEND_API_KEY = re_AKEPFY69_*** (massage ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¨­å®š)
```

### 2. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ›´æ–° âœ…
- âœ… `package.json` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›´æ–°
- âœ… `wrangler.jsonc` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’ `massage` ã«æ›´æ–°
- âœ… `ecosystem.config.cjs` - PM2 è¨­å®šã‚’ `massage` ã«æ›´æ–°
- âœ… `meta_info` - `cloudflare_project_name` = `massage`

### 3. PM2 ã‚µãƒ¼ãƒ“ã‚¹ã®å†èµ·å‹• âœ…
```bash
âœ… æ—§: hogusy â†’ å‰Šé™¤
âœ… æ–°: massage â†’ èµ·å‹•ä¸­
```

### 4. Git ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥ âœ…
```bash
âœ… ã‚³ãƒŸãƒƒãƒˆ: fba8ce3
âœ… ãƒ—ãƒƒã‚·ãƒ¥: main ãƒ–ãƒ©ãƒ³ãƒ
âœ… è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤: ãƒˆãƒªã‚¬ãƒ¼æ¸ˆã¿
```

### 5. ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª âœ…
```bash
âœ… https://massage-3d0.pages.dev â†’ HTTP 200 OK
```

---

## ğŸ¯ æ¬¡ã«å¿…è¦ãªä½œæ¥­ï¼ˆDashboard ã§è¨­å®šï¼‰

### 1. D1 Database ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¿½åŠ 

**æ‰‹é †**:
1. https://dash.cloudflare.com/ â†’ Workers & Pages â†’ **massage**
2. **Settings** ã‚¿ãƒ– â†’ **Functions** â†’ **D1 database bindings**
3. **ã€ŒAdd bindingã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. è¨­å®š:
   ```
   Variable name: DB
   D1 database: hogusy-db-production
   ```
5. **ã€ŒSaveã€** ã‚’ã‚¯ãƒªãƒƒã‚¯

### 2. R2 Bucket ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¿½åŠ 

**æ‰‹é †**:
1. åŒã˜ã **Settings** ã‚¿ãƒ– â†’ **Functions** â†’ **R2 bucket bindings**
2. **ã€ŒAdd bindingã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. è¨­å®š:
   ```
   Variable name: STORAGE
   R2 bucket: hogusy-storage
   ```
4. **ã€ŒSaveã€** ã‚’ã‚¯ãƒªãƒƒã‚¯

### 3. ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®ç§»è¡Œ

#### 3-1. æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆmassageï¼‰ã«ãƒ‰ãƒ¡ã‚¤ãƒ³è¿½åŠ 
1. **massage** ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ â†’ **Custom domains** ã‚¿ãƒ–
2. **ã€ŒSet up a custom domainã€** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ‰ãƒ¡ã‚¤ãƒ³å…¥åŠ›:
   ```
   hogusy.com
   ```
4. **ã€ŒContinueã€** â†’ DNS ãƒ¬ã‚³ãƒ¼ãƒ‰ãŒè‡ªå‹•è¨­å®šã•ã‚Œã‚‹
5. åŒæ§˜ã« `www.hogusy.com` ã‚‚è¿½åŠ 

#### 3-2. æ—§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆhogusyï¼‰ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³å‰Šé™¤
1. **hogusy** ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ â†’ **Custom domains** ã‚¿ãƒ–
2. `hogusy.com` ã®å³å´ã®ã€ŒRemoveã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. åŒæ§˜ã« `www.hogusy.com` ã‚‚å‰Šé™¤

---

## ğŸ§ª å‹•ä½œç¢ºèª

### ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ
```bash
âœ… http://localhost:3000 â†’ æ­£å¸¸å‹•ä½œ
âœ… PM2 ã‚µãƒ¼ãƒ“ã‚¹: massage (online)
```

### æœ¬ç•ªç’°å¢ƒ
```bash
âœ… https://massage-3d0.pages.dev â†’ HTTP 200 OK
â³ D1 & R2 ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚° â†’ Dashboard ã§è¿½åŠ å¾…ã¡
â³ ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ â†’ ç§»è¡Œå¾…ã¡
```

### Git è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
âœ… git push origin main â†’ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸ
âœ… ã‚³ãƒŸãƒƒãƒˆ: fba8ce3 â†’ ãƒ‡ãƒ—ãƒ­ã‚¤æ¸ˆã¿
```

---

## ğŸ“Š æ¯”è¼ƒï¼šç§»è¡Œå‰å¾Œ

| é …ç›® | æ—§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆhogusyï¼‰ | æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆmassageï¼‰ |
|------|-------------------------|--------------------------|
| Git é€£æº | âŒ ãªã— | âœ… ã‚ã‚Š |
| ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³• | æ‰‹å‹•ï¼ˆ`npm run deploy:prod`ï¼‰ | è‡ªå‹•ï¼ˆ`git push`ï¼‰ |
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒ | âŒ ãªã— | âœ… PR ã”ã¨ã«è‡ªå‹•ç”Ÿæˆ |
| ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ | å›°é›£ | Dashboard ã‹ã‚‰ç°¡å˜ |
| URL | hogusy.pages.dev | massage-3d0.pages.dev |
| ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ | hogusy.comï¼ˆç§»è¡Œäºˆå®šï¼‰ | ï¼ˆç§»è¡Œå¾Œï¼‰hogusy.com |

---

## ğŸš€ ã“ã‚Œã‹ã‚‰ã®é–‹ç™ºãƒ•ãƒ­ãƒ¼

### 1. ã‚³ãƒ¼ãƒ‰å¤‰æ›´
```bash
cd /home/user/webapp
# ã‚³ãƒ¼ãƒ‰ã‚’ç·¨é›†...
```

### 2. ãƒ­ãƒ¼ã‚«ãƒ«ã§ç¢ºèª
```bash
npm run build
pm2 restart massage
# http://localhost:3000 ã§ç¢ºèª
```

### 3. Git ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥
```bash
git add .
git commit -m "feat: æ–°æ©Ÿèƒ½è¿½åŠ "
git push origin main
```

### 4. è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ä½•ã‚‚ã—ãªãã¦OKï¼
# Cloudflare ãŒè‡ªå‹•çš„ã«ãƒ“ãƒ«ãƒ‰ï¼†ãƒ‡ãƒ—ãƒ­ã‚¤
# ç´„2ã€œ3åˆ†å¾Œã«æœ¬ç•ªç’°å¢ƒã«åæ˜ 
```

### 5. ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª
```bash
# Cloudflare Dashboard ã§ç¢ºèª
# ã¾ãŸã¯ç›´æ¥ URL ã«ã‚¢ã‚¯ã‚»ã‚¹
curl https://massage-3d0.pages.dev
```

---

## ğŸ’¡ ä¾¿åˆ©ãªã‚³ãƒãƒ³ãƒ‰

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º
```bash
# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pm2 start ecosystem.config.cjs

# ã‚µãƒ¼ãƒãƒ¼å†èµ·å‹•
pm2 restart massage

# ãƒ­ã‚°ç¢ºèª
pm2 logs massage --nostream

# ã‚µãƒ¼ãƒãƒ¼åœæ­¢
pm2 stop massage
```

### Git æ“ä½œ
```bash
# ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
git status

# å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
git add .
git commit -m "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"

# GitHub ã«ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆè‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰
git push origin main

# ãƒ­ã‚°ç¢ºèª
git log --oneline -5
```

### ãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆæ¨å¥¨ï¼‰
git push origin main

# æ‰‹å‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆå¿…è¦ãªå ´åˆã®ã¿ï¼‰
npm run deploy:prod
```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å®Œäº†æ¸ˆã¿
- [x] æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆï¼ˆmassageï¼‰
- [x] Git é€£æºè¨­å®š
- [x] RESEND_API_KEY ç’°å¢ƒå¤‰æ•°è¨­å®š
- [x] package.json æ›´æ–°
- [x] wrangler.jsonc æ›´æ–°
- [x] ecosystem.config.cjs æ›´æ–°
- [x] PM2 ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•
- [x] Git ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥
- [x] è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤å‹•ä½œç¢ºèª

### æ¬¡ã«å®Ÿæ–½ï¼ˆDashboardï¼‰
- [ ] D1 Database ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¿½åŠ 
- [ ] R2 Bucket ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¿½åŠ 
- [ ] hogusy.com ã‚’æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ 
- [ ] www.hogusy.com ã‚’æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«è¿½åŠ 
- [ ] æ—§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆhogusyï¼‰ã‹ã‚‰ãƒ‰ãƒ¡ã‚¤ãƒ³å‰Šé™¤
- [ ] å‹•ä½œç¢ºèªï¼ˆhogusy.com ã§ã‚¢ã‚¯ã‚»ã‚¹ï¼‰

### ä»Šå¾Œã®è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- [ ] Google Maps API Key è¨­å®š
- [ ] Google OAuth Client ID/Secret è¨­å®š
- [ ] Resend ãƒ‰ãƒ¡ã‚¤ãƒ³æ¤œè¨¼ï¼ˆhogusy.comï¼‰
- [ ] æ—§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆhogusyï¼‰å‰Šé™¤

---

## ğŸ‰ ã¾ã¨ã‚

### ç§»è¡Œå®Œäº†ï¼

- âœ… **Git é€£æº**: æœ‰åŠ¹
- âœ… **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: å‹•ä½œç¢ºèªæ¸ˆã¿
- âœ… **ç’°å¢ƒå¤‰æ•°**: è¨­å®šæ¸ˆã¿
- âœ… **ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒ**: ç¨¼åƒä¸­

### ã¦ã¤ã˜ã•ã‚“ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

Git é€£æºãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®ç§»è¡ŒãŒå®Œäº†ã—ã¾ã—ãŸï¼ğŸ‰

**æ¬¡ã«å®Ÿæ–½ã™ã‚‹ã“ã¨**:
1. **Cloudflare Dashboard ã§ D1 & R2 ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¿½åŠ **
2. **ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆhogusy.comï¼‰ã‚’æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ç§»è¡Œ**
3. **å‹•ä½œç¢ºèª**

ã“ã‚Œã‚‰ãŒå®Œäº†ã™ã‚Œã°ã€ä»Šå¾Œã¯ **`git push` ã™ã‚‹ã ã‘ã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤** ã•ã‚Œã¾ã™ï¼

---

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: HOGUSY (massage)  
**çŠ¶æ…‹**: ğŸŸ¢ Git é€£æºç¨¼åƒä¸­  
**æœ€çµ‚æ›´æ–°**: 2026-01-13  
**æ¬¡ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: D1/R2 ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°è¿½åŠ  + ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ç§»è¡Œ
